# High-Frequency Trading (HFT) Matching Engine in Rust

A ultra-low latency Limit Order Book (LOB) matching engine designed for DeFi infrastructure and high-frequency trading environments. 

This implementation focuses on **sub-microsecond determinism** and maximum throughput by leveraging Rust's memory safety and zero-cost abstractions.

## üöÄ Performance Benchmarks

The engine was benchmarked using `criterion.rs` on a single core. The results demonstrate elite-level performance suitable for high-stakes trading:

- **Mean Latency:** `42.95 ns` per match.
- **Throughput:** `~23.2 Million` orders per second.
- **Stability:** High determinism with minimal outliers, critical for HFT risk management.

## üõ† Architectural Highlights

To achieve these numbers, the engine implements several low-level optimizations:

* **Cache Locality (Slab Allocation):** Instead of using scattered pointers, orders are stored in a `Slab` (contiguous memory). This minimizes L1/L2 cache misses during the matching cycle.
* **No-Alloc Hot Path:** The engine performs zero heap allocations during the matching process. All memory is pre-allocated at startup to prevent non-deterministic latency spikes from the system allocator.
* **B-Tree Price Levels:** Utilizes `BTreeMap` for price levels, providing an efficient $O(\log n)$ lookup while maintaining better cache friendliness than traditional Red-Black trees.
* **Zero-Copy Ready:** Designed to be easily integrated with zero-copy deserialization frameworks like `rkyv` or `flatbuffers`.

## üèó Project Structure

- `src/lib.rs`: Core engine logic and data structures.
- `src/main.rs`: Entry point for basic demonstration.
- `benches/`: High-precision performance benchmarks.

## üö¶ Getting Started

### Prerequisites
- Rust (Stable)
- Cargo

### Running the Engine
```bash
cargo run

Running Benchmarks

To reproduce the performance numbers: 

cargo bench


üìà Future Roadmap

    [ ] Integration with lock-free message queues (e.g., Crossbeam).

    [ ] SIMD-optimized volume calculations.

    [ ] Support for SBE (Simple Binary Encoding) for network ingress.
